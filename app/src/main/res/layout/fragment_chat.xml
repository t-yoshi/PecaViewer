<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:tools="http://schemas.android.com/tools"
        xmlns:android="http://schemas.android.com/apk/res/android"
        xmlns:app="http://schemas.android.com/apk/res-auto"
        xmlns:peca="http://schemas.android.com/apk/res-auto"
        >

    <data>

        <variable
                name="chatViewModel"
                type="org.peercast.pecaviewer.chat.ChatViewModel"/>

        <variable
                name="appViewModel"
                type="org.peercast.pecaviewer.AppViewModel"/>

        <import type="android.view.View"/>
    </data>


    <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent"
            android:orientation="vertical"
            android:background="?android:attr/colorBackground">

        <androidx.appcompat.widget.Toolbar
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:id="@+id/vChatToolbar"
                android:layout_gravity="top"
                android:background="@color/amber_900"
                app:titleTextColor="@color/grey_1000b"
                app:subtitleTextColor="@color/grey_1000b"
                app:navigationIcon="@drawable/ic_menu_black_24dp"
                app:title="@{chatViewModel.chatToolbarTitle}"
                app:subtitle="@{chatViewModel.chatToolbarSubTitle}"
                />
<!--peca:visibleAnimate="@{appViewModel.slidingPanelState==1 || safeUnbox(chatViewModel.isToolbarVisible)}"-->

        <com.orangegangsters.github.swipyrefreshlayout.library.SwipyRefreshLayout
                android:layout_width="match_parent"
                android:layout_height="0dp"
                android:layout_weight="30"
                android:id="@+id/vThreadListRefresh"
                app:srl_direction="top"
                peca:refreshing="@{safeUnbox(chatViewModel.isThreadListRefreshing)}"
                peca:colorScheme="@{@color/light_blue_A700}"
                android:visibility="@{safeUnbox(chatViewModel.isThreadListVisible) ? View.VISIBLE : View.GONE}">

            <androidx.recyclerview.widget.RecyclerView
                    android:id="@+id/vThreadList"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:scrollbars="vertical"
                    android:scrollbarStyle="outsideInset"
                    />
        </com.orangegangsters.github.swipyrefreshlayout.library.SwipyRefreshLayout>

        <View
                android:layout_width="match_parent"
                android:layout_height="2dp"
                android:background="@color/grey_400"
                android:layout_marginTop="5dp"
                android:layout_marginBottom="5dp"
                android:visibility="@{safeUnbox(chatViewModel.isThreadListVisible) ? View.VISIBLE : View.GONE}"
                />

        <com.orangegangsters.github.swipyrefreshlayout.library.SwipyRefreshLayout
                android:layout_width="match_parent"
                android:id="@+id/vMessageListRefresh"
                android:layout_height="0dp"
                android:layout_weight="70"
                peca:colorScheme="@{@color/light_blue_A700}"
                peca:refreshing="@{safeUnbox(chatViewModel.isMessageListRefreshing)}"
                app:srl_direction="bottom"
                >

            <androidx.recyclerview.widget.RecyclerView
                    android:id="@+id/vMessageList"
                    app:layout_behavior="@string/appbar_scrolling_view_behavior"
                    android:layout_width="match_parent"
                    android:layout_height="match_parent"
                    android:scrollbars="vertical"
                    android:scrollbarStyle="outsideInset"
                    />

        </com.orangegangsters.github.swipyrefreshlayout.library.SwipyRefreshLayout>


    </LinearLayout>

    <!--@{viewModel.isToolbarVisible ? View.VISIBLE : View.GONE}-->
    <!--@{safeUnbox(viewModel.isExpanded) ? View.VISIBLE : View.GONE}-->


</layout>